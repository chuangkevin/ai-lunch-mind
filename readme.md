# åˆé¤åƒä»€éº¼ ğŸ± â€” AI é¤å»³æ¨è–¦ç³»çµ±
èªè¨€: Python

> âš ï¸ **é‡è¦è²æ˜ï¼šæœ¬ç³»çµ±æ¡ç”¨100%çœŸå¯¦æ•¸æ“šï¼Œçµ•ä¸ä½¿ç”¨å‡è³‡æ–™**
> 
> - ğŸŒ¤ï¸ **å¤©æ°£è³‡æ–™**ï¼šä¸­å¤®æ°£è±¡ç½²å®˜æ–¹API (286å€‹æ°£è±¡ç«™å¯¦æ™‚æ•¸æ“š)
> - ğŸ¤– **AIå°è©±**ï¼šOpenAI GPT-4o-mini çœŸå¯¦API
> - ğŸ½ï¸ **é¤å»³è³‡è¨Š**ï¼šGoogle æœå°‹ + SSL bypassçœŸå¯¦æ•¸æ“šçˆ¬èŸ²
> - ğŸ‘¥ **äººæ½®åˆ†æ**ï¼šå¤šå› å­é æ¸¬æ¼”ç®—æ³• (å³å°‡æ•´åˆGoogle Popular TimesçœŸå¯¦æ•¸æ“š)
> - ğŸ“Š **æ‰€æœ‰æ¨è–¦çµæœåŸºæ–¼çœŸå¯¦æ•¸æ“šè¨ˆç®—ï¼Œç¢ºä¿å¯ä¿¡åº¦èˆ‡å¯¦ç”¨æ€§**

---

## ğŸ§  å°ˆæ¡ˆæ¦‚å¿µ

ä¸€å€‹æ ¹æ“š **å¤©æ°£ã€é ç®—ã€ç”¨é¤æ™‚é–“ã€äººæ½®ã€ç©ºæ°£å“è³ªèˆ‡ä½¿ç”¨è€…ç‹€æ…‹** çš„ç¶œåˆæ¨è–¦ç³»çµ±ã€‚é€é AI å°è©± + Google Maps æ•´åˆï¼Œå¹«åŠ©ä½¿ç”¨è€…åœ¨ã€Œç…©æ­»äº†ä¸çŸ¥é“è¦åƒä»€éº¼ã€çš„æ™‚åˆ»ï¼Œçµ¦å‡ºæœ€ä½³ç­”æ¡ˆã€‚

ä»¥ä¸€å€‹å°è©±æ¡†å‘ˆç¾ï¼Œä¸€é–‹å§‹æœƒå…ˆè©¢å•ä½¿ç”¨è€…åœ¨å“ª(å–å¾—åº§æ¨™)


---

## ğŸ”§ åŠŸèƒ½æ¨¡çµ„ä¸€è¦½

### 1ï¸âƒ£ å°è©±ç†è§£èˆ‡æ¢ä»¶åˆ†ææ¨¡çµ„
- åˆ†æä½¿ç”¨è€…è¼¸å…¥è‡ªç„¶èªè¨€
- æ“·å–éœ€æ±‚ï¼ˆé ç®—ã€æ™‚é–“ã€äººæ½®åå¥½ã€æ˜¯å¦æ€•ç†±ã€æœ‰ç„¡ç´„æœƒç­‰ï¼‰
- å·¥å…·ï¼š**OpenAI GPT-4o-mini** (çœŸå¯¦APIï¼Œéæ¨¡æ“¬)

### 2ï¸âƒ£ å¤©æ°£æ¨¡çµ„
- æŸ¥è©¢ç›®å‰åœ°é»çš„æ°£æº«ã€æ¿•åº¦ã€é™é›¨æ©Ÿç‡
- æ¨ä¼°æ˜¯å¦ã€Œæœƒæµæ±—ã€ã€ã€Œé©åˆå¤–å‡ºã€
- å·¥å…·ï¼š**ä¸­å¤®æ°£è±¡ç½²API** (å°ç£å®˜æ–¹çœŸå¯¦æ°£è±¡æ•¸æ“šï¼Œ286å€‹æ°£è±¡ç«™)

### 3ï¸âƒ£ Google Maps è³‡æ–™æ•´åˆ
- é¤å»³æœå°‹ï¼ˆ500 å…¬å°ºå…§ï¼‰
- æ“·å–ï¼šåç¨±ã€è©•åˆ†ã€è©•è«–ã€åƒ¹æ ¼å±¤ç´šã€é¡å‹ã€ç…§ç‰‡
- APIï¼š**Google Places API** (çœŸå¯¦é¤å»³æ•¸æ“š) + **ç¶²è·¯æœå°‹** (googlesearch-python)

### 4ï¸âƒ£ äººæ½®æ¨ä¼°æ¨¡çµ„ 
- å¤šå› å­é æ¸¬æ¼”ç®—æ³•ï¼šæ™‚æ®µã€æ˜ŸæœŸã€å¤©æ°£ã€è©•åˆ†ã€æ–™ç†é¡å‹
- æä¾›äººæ½®è¶¨å‹¢é æ¸¬å’Œæœ€ä½³é€ è¨ªæ™‚é–“å»ºè­°
- æ”¯æ´å®‰éœé¤å»³ç¯©é¸å’Œäººæ½®ç­‰ç´šåŒ¹é…
- **å³å°‡æ•´åˆGoogle Popular TimesçœŸå¯¦äººæ½®æ•¸æ“š** (ç›®å‰ä½¿ç”¨é«˜ç²¾åº¦é æ¸¬æ¼”ç®—æ³•)
- å·¥å…·ï¼šå¢å¼·ç‰ˆäººæ½®åˆ†ææ¼”ç®—æ³• + è¨ˆåŠƒæ•´åˆçœŸå¯¦API

### 5ï¸âƒ£ ç©ºæ°£å“è³ªèˆ‡æµæ±—æ¨¡çµ„
- ç¶œåˆå¤©æ°£èˆ‡è·é›¢è¨ˆç®—æµæ±—æŒ‡æ•¸
- æ˜¯å¦å®¹æ˜“æ²¾åˆ°æ²¹ç…™å‘³ï¼ˆå›é¥‹å­¸ç¿’ï¼‰

### 6ï¸âƒ£ è©•è«–åˆ†ææ¨¡çµ„
- æ“·å– Google è©•è«–
- åˆ†æå‡ºï¼šå†·æ°£å¼·ã€æ²¹ç…™å‘³é‡ã€æœå‹™å¥½ã€é©åˆç´„æœƒç­‰ç‰¹å¾µ
- å·¥å…·ï¼š**GPT-4o-mini** (çœŸå¯¦APIæƒ…ç·’åˆ†æ)

### 7ï¸âƒ£ èœå–®æ“·å–æ¨¡çµ„
- å–ç…§ç‰‡ â†’ OCRï¼ˆTesseract / PaddleOCRï¼‰
- å–çµæ§‹åŒ–èœå–®ï¼ˆå¦‚ Google åº—å®¶é ç›´æ¥æä¾›ï¼‰
- NLP é¡åˆ¥åˆ¤åˆ¥ï¼šä¸»é¤ã€æ¹¯å“ã€é£²æ–™ç­‰

### 8ï¸âƒ£ æ¨è–¦æ’åºå¼•æ“
- åˆæœŸä½¿ç”¨ rule-basedï¼ˆæ¢ä»¶æ‰“åˆ† + ç¯©é¸ï¼‰
- å¯æ“´å…… ML æ¨¡å‹ï¼ˆåŠ å¼·å€‹äººåŒ–ï¼‰

### 9ï¸âƒ£ å›é¥‹å­¸ç¿’æ¨¡çµ„
- ä½¿ç”¨è€…åƒå®Œå¾Œå¡«å›é¥‹
- èª¿æ•´è©²ä½¿ç”¨è€…çš„åå¥½èˆ‡æ¨è–¦æº–ç¢ºåº¦
- å„²å­˜ï¼šPostgreSQL / Supabase / Vector DB

---

## ğŸ§­ ç³»çµ±æ‹“æ¨¸åœ–ï¼ˆTopological Architectureï¼‰

```mermaid
graph TD
  A[ç”¨æˆ¶å‰ç«¯\nApp / Web] -->|ä½¿ç”¨è€…è¼¸å…¥ï¼ˆè‡ªç„¶èªè¨€ï¼‰| B[å°è©±ç†è§£èˆ‡æ¢ä»¶åˆ†ææ¨¡çµ„\nGPT / LangChain]
  
  B --> C[æ¢ä»¶å½™ç¸½å™¨\næ™‚é–“ã€é ç®—ã€å¤©æ°£ã€äººæ½®ã€è·é›¢ã€é«”åŠ›]
  
  C --> D1[å¤©æ°£æœå‹™\nOpenWeatherMap API]
  C --> D2[Google Maps API\nPlaces Search + Details]
  C --> D3[äººæ½®è³‡æ–™æ“·å–\nPopularTimes æˆ–ç¬¬ä¸‰æ–¹è³‡æ–™]
  C --> D4[ç©ºæ°£å“è³ªèˆ‡æµæ±—è©•ä¼°æ¨¡çµ„]

  D2 --> E1[è©•è«–è™•ç†æ¨¡çµ„\næƒ…ç·’åˆ†æ / é—œéµè©èƒå–]
  D2 --> E2[èœå–®æ“·å–æ¨¡çµ„\nç…§ç‰‡ + OCR / çµæ§‹åŒ–èœå–®]
  
  E1 --> F[ç‰¹å¾µç”Ÿæˆå™¨]
  E2 --> F
  
  F --> G[æ¨è–¦æ’åºå¼•æ“\nML / Rule-Based / æ··åˆ]
  
  G --> H[æ¨è–¦åˆ—è¡¨ç”¢ç”Ÿ]
  H --> A
  
  A --> I[ç”¨æˆ¶å›é¥‹è¡¨å–®]
  I --> J[å›é¥‹è™•ç†æ¨¡çµ„]
  J --> F
  
  subgraph å¤–éƒ¨æœå‹™
    D1
    D2
    D3
  end

  subgraph AIæœå‹™èˆ‡æ¨è–¦ç³»çµ±
    B
    C
    E1
    E2
    F
    G
    J
  end

  subgraph è³‡æ–™å„²å­˜
    DB1[ä½¿ç”¨è€…åå¥½è³‡æ–™åº«]
    DB2[åº—å®¶è³‡æ–™å¿«å–\nå«è©•è«–ã€èœå–®ã€ç‰¹å¾µ]
    DB3[ä½¿ç”¨è€…å›é¥‹ç´€éŒ„]
  end

  B --> DB1
  D2 --> DB2
  J --> DB3
  F --> DB1
```


ğŸ“¦ API & å·¥å…·å°ç…§è¡¨
| åŠŸèƒ½        | API / å·¥å…·                              |
| --------- | ------------------------------------- |
| é¤å»³æœå°‹      | Google Places Search API              |
| åº—å®¶è©³æƒ… + è©•è«– | Google Places Details API             |
| é¤å»³åœ–ç‰‡      | Google Places Photos API              |
| å¤©æ°£        | OpenWeatherMap API                    |
| è©•è«–åˆ†æ      | OpenAI GPT-4o / Text Classification   |
| èœå–®æ“·å–      | Google Photo OCR / åº—å®¶ç¶²ç«™çˆ¬èŸ²ï¼ˆå¦‚ UberEatsï¼‰ |
| äººæ½®è³‡è¨Š      | å¢å¼·ç‰ˆäººæ½®åˆ†ææ¼”ç®—æ³• / Popular Times (æœªä¾†æ•´åˆ) |
| è³‡æ–™åº«       | PostgreSQL / Supabase / Faiss (å‘é‡è³‡æ–™åº«) |
| å¾Œç«¯ API    | FastAPI / Node.js                     |
| å‰ç«¯        | React / Flutter / Vue                 |

â›ï¸ ä¸‹ä¸€æ­¥å»ºè­°
è¨»å†Š Google Maps API Keyï¼Œé–‹é€š Places API

å¯¦ä½œé™„è¿‘é¤å»³æœå°‹ + è©•è«–æ“·å–åŠŸèƒ½

å°‡ä½¿ç”¨è€…è¼¸å…¥è½‰ç‚ºæ¢ä»¶ JSONï¼ˆå¯ç”¨ GPTï¼‰

è¨­è¨ˆæ¨è–¦é‚è¼¯ï¼šrule-based åˆç‰ˆ

å¯¦ä½œå›é¥‹å•å·å„²å­˜ + åå¥½æ›´æ–°é‚è¼¯

---

## ğŸ”‘ API é…ç½®èˆ‡çœŸå¯¦æ•¸æ“šä¿è­‰

### å¿…éœ€çš„çœŸå¯¦API Keys

æœ¬ç³»çµ±**å®Œå…¨ä¾è³´çœŸå¯¦å¤–éƒ¨API**ï¼Œéœ€è¦ä»¥ä¸‹API Keysï¼š

#### 1. OpenAI API Key (å¿…éœ€)
```bash
OPENAI_API_KEY=sk-xxxxxxxx
```
- **ç”¨é€”**: AIå°è©±ç†è§£ã€è©•è«–æƒ…ç·’åˆ†æ
- **æ¨¡å‹**: GPT-4o-mini
- **é ä¼°è²»ç”¨**: $20-50/æœˆ (ä¸­ç­‰ä½¿ç”¨é‡)
- **ç”³è«‹**: https://platform.openai.com/api-keys

#### 2. ä¸­å¤®æ°£è±¡ç½² API Key (å¿…éœ€)
```bash
CWB_API_KEY=CWB-xxxxxxxx
```
- **ç”¨é€”**: å°ç£å®˜æ–¹å¤©æ°£è³‡æ–™ (286å€‹æ°£è±¡ç«™)
- **è²»ç”¨**: å…è²»
- **ç”³è«‹**: https://opendata.cwb.gov.tw/user/authkey

#### 3. Google Maps API Key (æ¨è–¦)
```bash
GOOGLE_MAPS_API_KEY=AIzaSyxxxxxxxx
```
- **ç”¨é€”**: é¤å»³è©•è«–æ“·å–ã€è©³ç´°è³‡è¨Š
- **é ä¼°è²»ç”¨**: $10-30/æœˆ
- **ç”³è«‹**: https://console.cloud.google.com/apis/credentials
- **éœ€å•Ÿç”¨**: Places API (New), Maps JavaScript API

### æ•¸æ“šä¾†æºè²æ˜

| åŠŸèƒ½æ¨¡çµ„ | æ•¸æ“šä¾†æº | çœŸå¯¦æ€§ | å‚™è¨» |
|---------|----------|--------|------|
| ğŸŒ¤ï¸ å¤©æ°£è³‡è¨Š | ä¸­å¤®æ°£è±¡ç½²API | âœ… 100%çœŸå¯¦ | æ”¿åºœå®˜æ–¹å³æ™‚æ•¸æ“š |
| ğŸ¤– AIå°è©± | OpenAI GPT-4o-mini | âœ… 100%çœŸå¯¦ | çœŸå¯¦AIæ¨¡å‹ï¼Œéæœ¬åœ°æ¨¡æ“¬ |
| ğŸ½ï¸ é¤å»³æœå°‹ | Googleæœå°‹ + Places API | âœ… çœŸå¯¦çˆ¬èŸ² | ç¶²è·¯çœŸå¯¦é¤å»³è³‡è¨Š |
| ğŸ“ é¤å»³è©•è«– | Google Places API | âœ… 100%çœŸå¯¦ | Googleç”¨æˆ¶çœŸå¯¦è©•è«– |
| ğŸ‘¥ äººæ½®åˆ†æ | å¤šå› å­æ¼”ç®—æ³• | ğŸŸ¡ é«˜ç²¾åº¦é æ¸¬ | åŸºæ–¼çœŸå¯¦å› å­çš„é‚è¼¯é æ¸¬ |

**æ‰¿è«¾ï¼šæœ¬ç³»çµ±çµ•ä¸ä½¿ç”¨å‡è³‡æ–™ã€æ¨¡æ“¬æ•¸æ“šæˆ–Demoè³‡æ–™**

---

## ğŸ³ Docker éƒ¨ç½²

> ğŸ“Œ **æ–°ç‰ˆDocker Compose**: æœ¬å°ˆæ¡ˆä½¿ç”¨æœ€æ–°Docker Composeæ ¼å¼ï¼Œå·²ç§»é™¤ `version` å­—æ®µ

### å¿«é€Ÿå•Ÿå‹•

1. **è¤‡è£½ç’°å¢ƒè®Šæ•¸æª”æ¡ˆ**
```bash
cp .env.docker .env
```

2. **è¨­å®š API Keys**
ç·¨è¼¯ `.env` æª”æ¡ˆï¼Œå¡«å…¥æ‚¨çš„ API Keys

3. **å•Ÿå‹•å®¹å™¨**
```bash
# ç”Ÿç”¢ç’°å¢ƒ
docker-compose up -d

# é–‹ç™¼ç’°å¢ƒ (æ”¯æ´ç†±é‡è¼‰)
docker-compose -f docker-compose.dev.yml up -d
```


4. **è¨ªå•æ‡‰ç”¨ç¨‹å¼**
  - ä¸»æ‡‰ç”¨ç¨‹å¼: http://localhost:8000
  - API æ–‡æª”: http://localhost:8000/docs
  - å‰ç«¯é¦–é : http://localhost:8000/frontend/index.html
  - å¤©æ°£æŸ¥è©¢é : http://localhost:8000/frontend/weather-check.html
  - æµæ±—æŒ‡æ•¸é : http://localhost:8000/frontend/sweat-index.html
  - é¤å»³æ¨è–¦é : http://localhost:8000/frontend/restaurant-recommendation.html

API è·¯å¾‘ä¸€è¦½ï¼š
| åŠŸèƒ½ | è·¯å¾‘ | æ–¹æ³• |
|------|-------------------------------|-------|
| æ™ºæ…§æ¨è–¦ | /recommend | POST |
| é¤å»³æœå°‹ | /restaurants/search | GET |
| å¤©æ°£æŸ¥è©¢ | /weather | GET |
| å¤©æ°£æŸ¥è©¢ï¼ˆforå‰ç«¯ï¼‰ | /api/weather-check | POST |
| æµæ±—æŒ‡æ•¸ | /api/sweat-index | POST |
| é¤å»³æ¨è–¦ | /api/restaurant-recommendation | POST |
| äººæ½®åˆ†æ | /crowd/analysis | GET |
| å®‰éœé¤å»³ | /crowd/quiet-restaurants | GET |
| å°è©±æŸ¥è©¢åˆ†æ | /analyze/query | POST |

è©³ç´°éƒ¨ç½²èªªæ˜è«‹åƒè€ƒ [DOCKER_DEPLOY.md](DOCKER_DEPLOY.md)

---
